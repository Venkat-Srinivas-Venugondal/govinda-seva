{
  "entities": {
    "IssueReport": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "IssueReport",
      "type": "object",
      "description": "Represents an issue reported by a devotee.",
      "properties": {
        "details": {
          "type": "string",
          "description": "Textual description of the reported issue."
        },
        "location": {
          "type": "string",
          "description": "Textual description of the issue location."
        },
        "reportedBy": {
          "type": "string",
          "description": "Identifier of the devotee who reported the issue."
        },
        "status": {
          "type": "string",
          "description": "The current status of the issue (e.g., 'reported', 'in progress', 'completed').",
          "enum": ["New", "In Progress", "Resolved"]
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of when the issue was reported.",
          "format": "date-time"
        }
      },
      "required": [
        "details",
        "location",
        "reportedBy",
        "status",
        "timestamp"
      ]
    },
    "EmergencyAlert": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "EmergencyAlert",
      "type": "object",
      "description": "Represents an emergency SOS alert sent by a devotee.",
      "properties": {
        "latitude": {
          "type": "number",
          "description": "Latitude coordinate of the devotee's location."
        },
        "longitude": {
          "type": "number",
          "description": "Longitude coordinate of the devotee's location."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of when the emergency alert was sent.",
          "format": "date-time"
        },
        "sentBy": {
          "type": "string",
          "description": "Identifier of the devotee who sent the alert."
        }
      },
      "required": [
        "latitude",
        "longitude",
        "timestamp",
        "sentBy"
      ]
    },
    "Devotee": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Devotee",
      "type": "object",
      "description": "Represents a devotee using the application.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "Unique identifier for the devotee."
        },
        "displayName": {
          "type": "string",
          "description": "Name of the devotee."
        },
        "email": {
          "type": "string",
          "description": "Email address of the devotee.",
          "format": "email"
        },
        "phoneNumber": {
          "type": "string",
          "description": "Phone number of the devotee."
        }
      },
      "required": [
        "uid"
      ]
    },
    "Volunteer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Volunteer",
      "type": "object",
      "description": "Represents a volunteer.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "Unique identifier for the volunteer."
        },
        "displayName": {
          "type": "string",
          "description": "Name of the volunteer."
        },
        "email": {
          "type": "string",
          "description": "Email address of the volunteer.",
          "format": "email"
        }
      },
      "required": [
        "uid",
        "email"
      ]
    },
    "Admin": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Admin",
      "type": "object",
      "description": "Represents an administrator.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "Unique identifier for the administrator."
        },
        "displayName": {
          "type": "string",
          "description": "Name of the administrator."
        },
        "email": {
          "type": "string",
          "description": "Email address of the administrator.",
          "format": "email"
        }
      },
      "required": [
        "uid",
        "email"
      ]
    },
    "BroadcastMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "BroadcastMessage",
      "type": "object",
      "description": "Represents a broadcast message sent to users.",
      "properties": {
        "message": {
          "type": "string",
          "description": "The content of the broadcast message."
        },
        "recipientType": {
          "type": "string",
          "description": "The type of recipient (e.g., 'devotee', 'volunteer')."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of when the message was sent.",
          "format": "date-time"
        },
        "sentBy": {
          "type": "string",
          "description": "Identifier of the admin who sent the broadcast."
        }
      },
      "required": [
        "message",
        "recipientType",
        "timestamp",
        "sentBy"
      ]
    },
    "DarshanTime": {
      "title": "DarshanTime",
      "type": "object",
      "description": "Represents the estimated Darshan wait time.",
      "properties": {
        "waitTime": {
          "type": "number",
          "description": "The wait time in minutes."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the wait time was updated."
        },
        "updatedBy": {
          "type": "string",
          "description": "ID of the admin who updated the time."
        }
      },
      "required": ["waitTime", "timestamp", "updatedBy"]
    },
    "StaffShift": {
      "title": "StaffShift",
      "type": "object",
      "description": "Represents a staff member's shift details.",
      "properties": {
        "staffName": {
          "type": "string",
          "description": "Name of the staff member."
        },
        "role": {
          "type": "string",
          "description": "Role of the staff member (e.g., 'Volunteer', 'Security', 'Admin')."
        },
        "loginTime": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the staff member logged in."
        },
        "logoutTime": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the staff member logged out."
        }
      },
      "required": ["staffName", "role", "loginTime"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "phone"
    ]
  },
  "firestore": {
    "/issueReports/{issueReportId}": {
      "schema": {
        "$ref": "#/entities/IssueReport"
      },
      "description": "Stores issue reports submitted by any authenticated user."
    },
    "/emergencyAlerts/{emergencyAlertId}": {
      "schema": {
        "$ref": "#/entities/EmergencyAlert"
      },
      "description": "Stores emergency SOS alerts sent by devotees."
    },
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/Devotee"
      },
      "description": "Stores public profiles for all users (devotees, volunteers, admins)."
    },
    "/broadcastMessages/{broadcastMessageId}": {
      "schema": {
        "$ref": "#/entities/BroadcastMessage"
      },
      "description": "Stores broadcast messages sent by admins."
    },
    "/roles/{userId}": {
      "schema": {
        "type": "object",
        "properties": {
          "isAdmin": { "type": "boolean" },
          "isVolunteer": { "type": "boolean" }
        }
      },
      "description": "Stores user roles (admin, volunteer) for access control."
    },
    "/darshanTimes/{darshanTimeId}": {
        "schema": { "$ref": "#/entities/DarshanTime" },
        "description": "Stores historical and current Darshan wait times."
    },
    "/staffShifts/{shiftId}": {
      "schema": { "$ref": "#/entities/StaffShift" },
      "description": "Stores shift details for staff and volunteers."
    }
  }
}
